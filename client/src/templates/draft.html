

<!-- <span class='btn-line-group'><button class='btn-line active' ng-click='save()'>{{isSaving? "saving...":"save"}}</button></span> -->

<textarea id='draft-title' rows="1" msd-elastic ng-model='title' type='text' placeholder='Untitled'></textarea>

<blockquote>
  <textarea id='draft-abstract' rows="1" msd-elastic ng-model='abstract' type='text' placeholder='abstract'></textarea>
</blockquote>

<div style='position:absolute; top:-60px' ng-if='!isDraft'>
  <!-- <div ng-if='metadata.owner.is_staff' class='btn-line-group'> -->
  <div class='btn-line-group'>
    <button class='btn-line' ng-click='setStatus("draft")' ng-class='metadata.status=="draft"?"active":""'>draft</button>
    <button class='btn-line' ng-click='setStatus("public")' ng-class='metadata.status=="public"?"active":""'>public</button>
  </div>
  <a ng-if='id' ui-sref="post({postId: id})">view</a>
  </div>
  <!-- </div> -->
  
</div>

<div class='section' ng-if='user.is_staff'>
  <!-- <label translate="displayed-as"></label> -->
  <tags-input class='tags-input' placeholder='{{"staff.drafts.tags.placeholder"| translate}}' on-tag-added='attachTag($tag)' on-tag-removed='detachTag($tag)' key-property='id' display-property='name' ng-model="displayedTags" add-from-autocomplete-only="true">
    <auto-complete source="suggestTags($query, {category__in:['blog','writing', 'highlights']})" ></auto-complete>

  </tags-input>
</div>

<div class='section' ng-if='!isDraft && user.is_staff'>
  <!-- <label translate="keywords"></label> -->
  <tags-input class='tags-input' placeholder='{{"drafts.keywords.placeholder"| translate}}' key-property='id' display-property='name' ng-model="tags">
    <auto-complete source="suggestTags($query, {category:'keyword'})"></auto-complete>

  </tags-input>
</div>

<div class='authors' ng-if='!isDraft'>
by <a href>{{metadata.owner.username}}</a>
</div>
<div class='authors' ng-if='isDraft'>
  <div ng-if='user.username'>
    by <a href>{{user.username}}</a>
  </div>
  <div ng-if='!user.username'>
    by <a href>anonymous</a>
  </div>
</div>

<!-- <div ng-if='!isDraft'>
  <form class="form-inline">
    <div class="form-group">
      <label translate='date'></label>
      <input type="text" class="form-control" ng-model="date" name="date" data-max-date="today" timezone='UTC' bs-datepicker data-autoclose="1">{{date}}
    </div>
  </form>
</div> -->

<div id="draft-contents">

  <div style='min-height: 50px; position:relative'>
      <!-- <medium-editor ng-model='contents' bind-options="mediumOptions"></medium-editor> -->
      
      <div mde='contents' setdocs='setDocuments(documents)' settoc='setToC(items)'></div>
      
  </div>
</div>